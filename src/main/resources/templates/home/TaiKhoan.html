<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/shared/layout :: layout(~{::title}, ~{::section})}">
<head>
    <title>Qu·∫£n l√Ω t√†i kho·∫£n</title>
</head>
<body>
<section class="bg-light py-4 container">
    <h3 class="mb-4">üë§ Qu·∫£n l√Ω t√†i kho·∫£n</h3>

    <div th:if="${message}" class="alert alert-success alert-dismissible fade show" role="alert">
        <span th:text="${message}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <div th:if="${error}" class="alert alert-danger alert-dismissible fade show" role="alert">
        <span th:text="${error}"></span>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <ul class="nav nav-tabs mb-3" id="accountTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="info-tab"
                    data-bs-toggle="tab" data-bs-target="#info"
                    type="button">C·∫≠p nh·∫≠t th√¥ng tin</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="password-tab"
                    data-bs-toggle="tab" data-bs-target="#password"
                    type="button">ƒê·ªïi m·∫≠t kh·∫©u</button>
        </li>
    </ul>

    <div class="tab-content" id="accountTabsContent">
        <div class="tab-pane fade show active" id="info" role="tabpanel">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-3">Th√¥ng tin c√° nh√¢n</h5>
                    <form th:action="@{/tai-khoan/cap-nhat-thong-tin}" method="post" th:object="${user}">

                        <input type="hidden" th:field="*{userId}"/>
                        <input type="hidden" th:field="*{tenDangNhap}"/>
                        <input type="hidden" th:field="*{matKhau}"/>

                        <input type="hidden" th:field="*{role}"/>
                        <input type="hidden" th:field="*{resetPasswordToken}"/>
                        <div class="row g-3">
                            <div class="col-md-6">
                                <label class="form-label">H·ªç t√™n</label>
                                <input type="text" class="form-control" th:field="*{hoTen}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">Email</label>
                                <input type="email" class="form-control" th:field="*{email}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">S·ªë ƒëi·ªán tho·∫°i</label>
                                <input type="text" class="form-control" th:field="*{soDienThoai}">
                            </div>
                            <div class="col-md-6">
                                <label class="form-label">ƒê·ªãa ch·ªâ</label>
                                <input type="text" class="form-control" th:field="*{diaChi}">
                            </div>
                        </div>
                        <div class="mt-4 text-end">
                            <button type="submit" class="btn btn-primary">L∆∞u thay ƒë·ªïi</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <div class="tab-pane fade" id="password" role="tabpanel">
            <div class="card shadow-sm">
                <div class="card-body">
                    <h5 class="card-title mb-3">ƒê·ªïi m·∫≠t kh·∫©u</h5>
                    <form th:action="@{/tai-khoan/gui-xac-nhan-doi-mat-khau}" method="post">
                        <div class="mb-3">
                            <label class="form-label">M·∫≠t kh·∫©u hi·ªán t·∫°i</label>
                            <input type="password" class="form-control" name="oldPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u hi·ªán t·∫°i" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">M·∫≠t kh·∫©u m·ªõi</label>
                            <input type="password" class="form-control" name="newPassword" placeholder="Nh·∫≠p m·∫≠t kh·∫©u m·ªõi" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi</label>
                            <input type="password" class="form-control" name="confirmPassword" placeholder="Nh·∫≠p l·∫°i m·∫≠t kh·∫©u m·ªõi" required>
                        </div>
                        <div class="text-end">
                            <button type="submit" class="btn btn-success">G·ª≠i x√°c nh·∫≠n qua email</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <br><br><br><br><br><br><br><br><br><br><br>
</section>
</body>
</html>